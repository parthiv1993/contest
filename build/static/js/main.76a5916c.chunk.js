(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{142:function(e,t,a){e.exports=a(292)},150:function(e,t){},152:function(e,t){},189:function(e,t){},190:function(e,t){},278:function(e,t,a){},289:function(e,t,a){},292:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(54),o=a.n(l),i=a(13),c=a(14),s=a(16),u=a(15),m=a(17),d=a(135),f=a.n(d),g="IPL2021UserAuction2",h="IPL2021TokenAuction2",E="IPL2021PrivilageAuction2";function v(){return localStorage.getItem([h])}function y(){try{return Number(localStorage.getItem([E]))}catch(e){return console.error(e),0}}var b=a(299),p=a(296),k=a(293),T=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={name:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"onLoginClick",value:function(e){this.props.onLogin(this.state.name),e.preventDefault()}},{key:"onInputChange",value:function(e){this.setState({name:e.target.value})}},{key:"render",value:function(){return r.a.createElement("div",{style:{height:"-webkit-fill-available"}},r.a.createElement(b.a,{style:{margin:"auto",width:"400px",top:"25%",bottom:"0"}},r.a.createElement(b.a.Header,null,"Login"),r.a.createElement(b.a.Body,null,r.a.createElement(p.a,{onSubmit:this.onLoginClick.bind(this)},r.a.createElement(p.a.Group,{controlId:"formNickName"},r.a.createElement(p.a.Label,null,"Nick Name"),r.a.createElement(p.a.Control,{type:"text",placeholder:"Enter your given NickName",onChange:this.onInputChange.bind(this)})),r.a.createElement(k.a,{variant:"primary",type:"submit"},"Submit"))),r.a.createElement(b.a.Footer,null,"Don't have a login ? Contact Parthiv")))}}]),t}(r.a.Component),I=a(27),O=a(298),P=a(297),S=a(8),A=a.n(S),C=a(9),R=(a(278),"http://localhost:8080/api/"),j={BASE_URL:"http://localhost:8080/api/",LIVE_POLL_TIME:5e3,POINTS_POLL_TIME:6e4,MYTEAM_POLL_TIME:6e4,urls:{getMyTeam:R+"/myTeam",getPointsRemaining:R+"/remaningPoints",getRemainingPlayers:R+"/getRemainingPlayersCount",getLiveAuctionInfo:R+"/liveAuctionInfo",placeBid:R+"/addBid",markPlayerAsSold:R+"/markAsSold",bringNextPlayer:R+"/bringNextPlayer",getAllPlayersData:R+"/allPlayers",startAuction:R+"/resetAuction",toggleTimer:R+"/toggleTimerEnabled",pauseTimer:R+"/pauseTimer",startTimer:R+"/startTimer",changeTimerForSold:R+"/changeTimerWaitForSold",changeTImerForNextPlayer:R+"/changeTimerWaitForNextPlayer",evaluation:R+"/eval"},priviledges:{INACTIVE_USER:1,ACTIVE_USER:2,CORDINATOR:3,ADMIN:4}},w=function(e){return r.a.createElement(k.a,{variant:"outline-info",style:{marginLeft:"8px"},onClick:function(){window.confirm(e.warning)&&e.handler()}},e.buttonName)},L=function(){var e=localStorage.getItem([g])||"User",t=y()>=j.priviledges.ADMIN,a=Object(n.useState)(!1),l=Object(I.a)(a,2),o=l[0],i=l[1],c=Object(n.useState)(null),s=Object(I.a)(c,2),u=s[0],m=s[1],d=r.a.createElement("div",null,r.a.createElement(w,{warning:"You are about to restart the auction. Are you Sure?",handler:function(){A.a.get(j.urls.startAuction).then(function(){return C.toast.success("Auction started. Enjoy the auction!!")})},buttonName:"Start Auction"}),r.a.createElement(w,{warning:"You are about to toggle the timer. Are you Sure?",handler:function(){A.a.get(j.urls.toggleTimer).then(function(e){return C.toast.success(e.data)})},buttonName:"Enable / Disable Timer"}),r.a.createElement("input",{onChange:function(e){return m(parseInt(e.target.value))}}),r.a.createElement(w,{warning:"You are Change Timer for marking player sold. Are you Sure?",handler:function(){var e={timeWait:1e3*u};A.a.post(j.urls.changeTimerForSold,e).then(function(e){return C.toast.success(e.data)})},buttonName:"Change Time to Sold"}),r.a.createElement(w,{warning:"You are Change Timer for getiing next player. Are you Sure?",handler:function(){var e={timeWait:1e3*u};A.a.post(j.urls.changeTImerForNextPlayer,e).then(function(e){C.toast.success(e.data)},function(e){})},buttonName:"Change Time to Next player"}),r.a.createElement(w,{warning:"You are about to get test. Are you Sure?",handler:function(){var e={command:"specialPlayerId = ".concat(u)};A.a.post(j.urls.evaluation,e).then(function(e){return C.toast.success(e.data)})},buttonName:"Test"}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{bg:"dark",variant:"dark"},r.a.createElement(O.a.Brand,{href:"#home"},"Hi ".concat(e)),r.a.createElement(P.a,{className:"mr-auto"},t&&r.a.createElement(P.a.Link,{onClick:function(){return i(!o)}},"More Options")),r.a.createElement(k.a,{variant:"outline-info",onClick:function(){localStorage.clear(),window.location.reload()}},"Log Out")),o&&r.a.createElement(O.a,{bg:"dark",variant:"dark"},d))},N=a(295),B=a(23),H=a.n(B),x=a(137),M=a(294),D=function(e){var t=e.bids;return t&&t.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{sm:12},r.a.createElement("h4",null,"Previous Bids:"),r.a.createElement(M.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Bid By"),r.a.createElement("th",null,"Bid Amt"))),r.a.createElement("tbody",null,t.map(function(e){return function(e){return r.a.createElement("tr",{key:e.bidBy+e.bidAmt},r.a.createElement("td",null,e.bidBy),r.a.createElement("td",null,e.bidAmt))}(e)}))))):r.a.createElement("div",null,"You Can Start Bidding")},F=function(e){var t=e.player,a=Object(n.useState)(e.minBid),l=Object(I.a)(a,2),o=l[0],i=l[1];Object(n.useEffect)(function(){i(e.minBid)},[e.minBid]);var c=function(e){var t=5*Math.ceil(parseInt(e.target.value)/5);i(t)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{sm:12},"PlayerId : ".concat(t.playerId)),r.a.createElement(x.a,{sm:12},"Player Name : ".concat(t.name)),r.a.createElement(x.a,{sm:12},"Team : ".concat(t.team)),r.a.createElement(x.a,{sm:12},"Grade : ".concat(t.grade)),r.a.createElement(x.a,{sm:12},"Time Left : ".concat(t.timeLeft?t.timeLeft/1e3-2:"null"," Seconds")),t.soldTo?r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{sm:12},"Sold to : ".concat(t.soldTo)),r.a.createElement(x.a,{sm:12},"Sold for : ".concat(t.soldAt," points"))):r.a.createElement(r.a.Fragment,null),t.soldTo?r.a.createElement(r.a.Fragment,null):r.a.createElement(x.a,{sm:12},r.a.createElement("input",{style:{margin:"15px",marginLeft:"0px"},type:"number",step:"5",value:o,placeholder:"Bid Amount",onBlur:c,onChange:function(e){return i(e.target.value)}}),r.a.createElement(k.a,{size:"sm",onClick:function(){return e.onBid(o)}},"Bid")),function(){var a=Boolean(t.soldTo),n=y()>=j.priviledges.CORDINATOR,l=t&&t.bids&&t.bids.length&&t.bids.length>0?"Mark as Sold":"Mark as Unsold";return n?a?r.a.createElement(x.a,{sm:12},r.a.createElement(k.a,{size:"sm",variant:"info",onClick:e.bringNextPlayerHandler},"Get Next Player")):r.a.createElement(x.a,{sm:12},r.a.createElement(k.a,{size:"sm",variant:"danger",onClick:e.markPlayerSoldHandler},l)):r.a.createElement(r.a.Fragment,null)}())},q=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={currentAuctionInfo:null,bidAmt:5},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.getLiveAuctionInfo(),this.interval=setInterval(function(){e.getLiveAuctionInfo()},j.LIVE_POLL_TIME)}},{key:"componentWillUnmount",value:function(){window.clearInterval(this.interval)}},{key:"getLiveAuctionInfo",value:function(){var e=this;A.a.get(j.urls.getLiveAuctionInfo).then(function(t){if(!H.a.isEqual(t.data,e.state.currentAuctionInfo)){var a=t.data.bids&&t.data.bids[0]&&t.data.bids[0].bidAmt+5||5;e.setState({currentAuctionInfo:t.data,bidAmt:a})}},function(e){e&&e.response&&e.response.data&&e.response.data.message&&C.toast.error(e.response.data.message)})}},{key:"roundOff",value:function(e){var t=5*Math.ceil(parseInt(e.target.value)/5);this.setState({bidAmt:t})}},{key:"handleBidInputChange",value:function(e){this.setState({bidAmt:e.target.value})}},{key:"bid",value:function(e){var t=this;if(e&&e>0){var a=localStorage.getItem([g])||"User",n=this.state.currentAuctionInfo.playerId;this.doBidRequest(n,e,a).then(function(){return t.getLiveAuctionInfo()},function(e){e&&e.response&&e.response.data&&e.response.data.message&&C.toast.error(e.response.data.message)})}}},{key:"doBidRequest",value:function(e,t,a){return A.a.post(j.urls.placeBid,{playerId:e,bidAmt:t,bidBy:a})}},{key:"markPlayerSoldHandler",value:function(){var e=this;this.markPlayerSoldRequest(this.state.currentAuctionInfo.playerId).then(function(t){t.data&&t.data.message&&C.toast.success(t.data.message),e.getLiveAuctionInfo()},function(e){e&&e.response&&e.response.data&&e.response.data.message&&C.toast.error(e.response.data.message),console.error(e)})}},{key:"markPlayerSoldRequest",value:function(e){return A.a.post(j.urls.markPlayerAsSold,{playerId:e})}},{key:"bringNextPlayerHandler",value:function(){var e=this;this.bringNextPlayerRequest().then(function(){return e.getLiveAuctionInfo()},function(e){e&&e.response&&e.response.data&&e.response.data.message&&C.toast.error(e.response.data.message)})}},{key:"bringNextPlayerRequest",value:function(){return A.a.get(j.urls.bringNextPlayer)}},{key:"onRefreshHandler",value:function(){this.getLiveAuctionInfo()}},{key:"render",value:function(){var e=this,t=this.state.currentAuctionInfo;return t?r.a.createElement(b.a,null,r.a.createElement(b.a.Header,null,"Current/ Last Player",r.a.createElement(k.a,{variant:"dark",size:"sm",style:{float:"right"},onClick:this.onRefreshHandler.bind(this)},"Refresh")),r.a.createElement(b.a.Body,null,r.a.createElement(N.a,{style:{margin:"0px"}},r.a.createElement(F,{player:t,minBid:this.state.bidAmt,onBid:function(t){return e.bid(t)},bringNextPlayerHandler:this.bringNextPlayerHandler.bind(this),markPlayerSoldHandler:this.markPlayerSoldHandler.bind(this)}),r.a.createElement(D,{bids:t.bids})))):null}}]),t}(n.Component),_=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={points:null},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.remainingPointsRequest(),this.interval=setInterval(function(){e.remainingPointsRequest()},j.POINTS_POLL_TIME)}},{key:"componentWillUnmount",value:function(){window.clearInterval(this.interval)}},{key:"remainingPointsRequest",value:function(){var e=this;A.a.get(j.urls.getPointsRemaining).then(function(t){H.a.isEqual(t.data,e.state.points)||e.setState({points:t.data})},function(e){e&&e.response&&e.response.data&&e.response.data.message&&C.toast.error(e.response.data.message)})}},{key:"onRefreshHandler",value:function(){this.remainingPointsRequest()}},{key:"getTableHeader",value:function(){return r.a.createElement("tr",null,r.a.createElement("th",null,"Team Owner"),r.a.createElement("th",null,"Points"))}},{key:"getTableRow",value:function(e,t){return r.a.createElement("tr",{key:e},r.a.createElement("td",null,e),r.a.createElement("td",null,t))}},{key:"render",value:function(){var e=this,t=this.state.points;return t?r.a.createElement(b.a,null,r.a.createElement(b.a.Header,{as:"h5"},"Points Remaining",r.a.createElement(k.a,{variant:"dark",size:"sm",style:{float:"right"},onClick:this.onRefreshHandler.bind(this)},"Refresh")),r.a.createElement(b.a.Body,null,r.a.createElement(M.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,this.getTableHeader()),r.a.createElement("tbody",null,Object.keys(t).sort().map(function(a){return e.getTableRow(a,t[a])}))))):null}}]),t}(r.a.Component),U=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={team:null},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.getYourTeam(),this.interval=setInterval(function(){e.getYourTeam()},j.MYTEAM_POLL_TIME)}},{key:"componentWillUnmount",value:function(){window.clearInterval(this.interval)}},{key:"getYourTeam",value:function(){var e=this;A.a.get(j.urls.getMyTeam).then(function(t){H.a.isEqual(t.data,e.state.team)||e.setState({team:t.data})},function(e){e&&e.response&&e.response.data&&e.response.data.message&&C.toast.error(e.response.data.message)})}},{key:"onRefreshHandler",value:function(){this.getYourTeam()}},{key:"getTeamColour",value:function(e){return{CSK:"#fcce06",MI:"#004f91",KKR:"#3a225d",SRH:"#f7a721",RCB:"#d5152c",KXIP:"#ed1f27",DC:"#2561ae",RR:"#254aa5"}[e]}},{key:"getTeamTextColor",value:function(e){return{CSK:"#f25c19",MI:"#ffffff",KKR:"#f3c433",SRH:"#9a1c22",RCB:"#000000",KXIP:"#ffffff",DC:"#d71921",RR:"#ffffff"}[e]}},{key:"getTableHeaderRow",value:function(){return r.a.createElement("tr",null,r.a.createElement("th",null,"Sr."),r.a.createElement("th",null,"Player Name"),r.a.createElement("th",null,"Points"),r.a.createElement("th",null,"Team"))}},{key:"getTableRow",value:function(e,t){return r.a.createElement("tr",{key:e.name},r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.soldAt),r.a.createElement("td",{style:{backgroundColor:"".concat(this.getTeamColour(e.team)),color:"".concat(this.getTeamTextColor(e.team))}},e.team))}},{key:"render",value:function(){var e=this,t=this.state.team;return t?r.a.createElement(b.a,null,r.a.createElement(b.a.Header,{as:"h5"},"My Team",r.a.createElement(k.a,{variant:"dark",size:"sm",style:{float:"right"},onClick:this.onRefreshHandler.bind(this)},"Refresh")),r.a.createElement(b.a.Body,null,r.a.createElement(M.a,{bordered:"true",hover:"true",size:"sm"},r.a.createElement("thead",null,this.getTableHeaderRow()),r.a.createElement("tbody",null,t.map(function(t,a){return e.getTableRow(t,a)}))))):null}}]),t}(r.a.Component),Y=a(141),W=a(140),z=a.n(W),K=(a(289),a(76)),G=a.n(K),V=(a(290),function(e){return r.a.createElement("div",null,r.a.createElement(k.a,{onClick:function(){return e.onToggleFilter()},style:{float:"right"}},"Filter"))}),J=function(){var e=Object(n.useState)([]),t=Object(I.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)([]),i=Object(I.a)(o,2),c=i[0],s=i[1],u=Object(n.useState)({}),m=Object(I.a)(u,2),d=m[0],f=m[1],g=function(){A.a.get(j.urls.getAllPlayersData).then(function(e){l(e.data),s(e.data)},function(e){e&&e.response&&e.response.data&&e.response.data.message&&C.toast.error(e.response.data.message)})};Object(n.useEffect)(function(){g()},[]);var h=function(e){var t=d,n=e.column.key;e.filterTerm?t[n]=e:delete t[n],f(d),function(){var e=Object(B.clone)(a);Object.keys(d).forEach(function(t){var a=d[t].filterTerm;e=e.filter(function(e){return e[t]&&e[t].toString().toLowerCase().indexOf(a.toLowerCase())>-1})}),s(e)}()};return a&&0===a.length?r.a.createElement(r.a.Fragment,null):r.a.createElement("div",null,r.a.createElement("h2",{style:{display:"inline-block"}},"All PLayers Data"),"\xa0",r.a.createElement(k.a,{variant:"info",style:{float:"right",marginLeft:"4px"},onClick:function(){try{var e=new G.a;e.autoTable({head:[["ID","Player Name","grade","Team","Sold At","Sold To","\r\n"]],body:c.map(function(e){return[e.playerId,e.name,e.grade,e.team,e.soldAt,e.soldTo]})}),e.save("summary.pdf")}catch(t){console.log(t)}}},"Download PDF"),"\xa0",r.a.createElement(k.a,{variant:"info",style:{float:"right",marginLeft:"4px"},onClick:function(){try{var e=Object(B.cloneDeep)(c),t="Player Id,Name,grade,Team,Sold At,Sold To,Bids\r\n";e.forEach(function(e){for(var a in e)t+=JSON.stringify(e[a]).replace(/\,/g,"")+",";t+="\r\n"}),t="data:application/csv,"+encodeURIComponent(t);var a=document.createElement("A");a.setAttribute("href",t),a.setAttribute("download","WCauction1.csv"),document.body.appendChild(a),a.click()}catch(n){console.log(n)}}},"Download Excell"),"\xa0",r.a.createElement(k.a,{variant:"info",style:{float:"right",marginLeft:"4px"},onClick:g},"Refresh Data"),"\xa0",r.a.createElement(z.a,{columns:[{key:"srNo",name:"Sr. No"},{key:"playerId",name:"Player ID",sortable:!0,filterable:!0},{key:"name",name:"Player Name",sortable:!0,filterable:!0},{key:"grade",name:"Grade",sortable:!0,filterable:!0},{key:"team",name:"Team",sortable:!0,filterable:!0},{key:"soldTo",name:"Sold To",sortable:!0,filterable:!0},{key:"soldAt",name:"Price",sortable:!0}],rowGetter:function(e){return Object(Y.a)({srNo:e+1},c[e])},rowsCount:c.length,minHeight:500,toolbar:r.a.createElement(V,null),onGridSort:function(e,t){return function(e,t){"NONE"===t&&s(c);var a=Object(B.cloneDeep)(c.sort(function(a,n){return"ASC"===t?a[e]>n[e]?1:-1:"DESC"===t?a[e]<n[e]?1:-1:void 0}));s(a)}(e,t)},onAddFilter:function(e){return h(e)},onClearFilters:function(){return f({})}}))},X=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={data:null},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.remainingPlayerRequest(),this.interval=setInterval(function(){e.remainingPlayerRequest()},j.POINTS_POLL_TIME)}},{key:"componentWillUnmount",value:function(){window.clearInterval(this.interval)}},{key:"remainingPlayerRequest",value:function(){var e=this;A.a.get(j.urls.getRemainingPlayers).then(function(t){H.a.isEqual(t.data,e.state.data)||e.setState({data:t.data})})}},{key:"onRefreshHandler",value:function(){this.remainingPlayerRequest()}},{key:"getTableHeaderRow",value:function(){return r.a.createElement("tr",null,r.a.createElement("th",null,"Type"),r.a.createElement("th",null,"Number of Players"))}},{key:"getTableRow",value:function(e,t){return r.a.createElement("tr",{key:e},r.a.createElement("td",null,e.replace("_"," ")),r.a.createElement("td",null,t))}},{key:"render",value:function(){var e=this,t=this.state.data;return t?r.a.createElement(b.a,null,r.a.createElement(b.a.Header,{as:"h5"},"Players Remaining",r.a.createElement(k.a,{variant:"dark",size:"sm",style:{float:"right"},onClick:this.onRefreshHandler.bind(this)},"Refresh")),r.a.createElement(b.a.Body,null,r.a.createElement(M.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,this.getTableHeaderRow()),r.a.createElement("tbody",null,Object.keys(t).map(function(a){return e.getTableRow(a,t[a])}))))):null}}]),t}(r.a.Component),$=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(L,null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(N.a,{style:{margin:"0px"}},r.a.createElement(x.a,{sm:12,lg:3},r.a.createElement(q,null)),r.a.createElement(x.a,{sm:12,lg:3},r.a.createElement(X,null)),r.a.createElement(x.a,{sm:12,lg:3},r.a.createElement(_,null)),r.a.createElement(x.a,{sm:12,lg:3},r.a.createElement(U,null)),r.a.createElement(x.a,{sm:12},r.a.createElement("br",null)),r.a.createElement(x.a,{sm:12},r.a.createElement(J,null))))}}]),t}(n.Component);function Q(e){return e.headers.Authorization=v(),e}a(291);var Z=function(e){function t(){var e;return Object(i.a)(this,t),e=Object(s.a)(this,Object(u.a)(t).call(this)),A.a.interceptors.request.use(Q),e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"login",value:function(e){var t=this;A.a.post(j.BASE_URL+"/login",{nickName:e}).then(function(e){!function(e){try{var t=f.a.decode(e);console.log(t),t&&(localStorage.setItem([h],e),localStorage.setItem([g],t.user),localStorage.setItem([E],t.privilage))}catch(a){console.error(a)}}(e.data.token),t.forceUpdate()},function(e){e&&e.response&&e.response.data&&e.response.data.message&&C.toast.error(e.response.data.message)})}},{key:"render",value:function(){var e=!!v();return r.a.createElement("div",null,e?r.a.createElement($,null):r.a.createElement(T,{onLogin:this.login.bind(this)}),r.a.createElement(C.ToastContainer,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[142,1,2]]]);
//# sourceMappingURL=main.76a5916c.chunk.js.map