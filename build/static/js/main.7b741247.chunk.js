(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{136:function(e,t,a){e.exports=a(278)},144:function(e,t){},146:function(e,t){},183:function(e,t){},184:function(e,t){},276:function(e,t,a){},278:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(50),i=a.n(l),o=a(10),c=a(11),u=a(14),s=a(12),m=a(13),d=a(128),h=a.n(d);function f(){return localStorage.getItem("token")}function y(){return{headers:{Authorization:f()}}}var v=a(285),b=a(282),E=a(279),g=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(s.a)(t).call(this,e))).state={name:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"onLoginClick",value:function(e){this.props.onLogin(this.state.name),e.preventDefault()}},{key:"onInputChange",value:function(e){this.setState({name:e.target.value})}},{key:"render",value:function(){return r.a.createElement("div",{style:{height:"-webkit-fill-available"}},r.a.createElement(v.a,{style:{margin:"auto",width:"400px",top:"25%",bottom:"0"}},r.a.createElement(v.a.Header,null,"Login"),r.a.createElement(v.a.Body,null,r.a.createElement(b.a,{onSubmit:this.onLoginClick.bind(this)},r.a.createElement(b.a.Group,{controlId:"formNickName"},r.a.createElement(b.a.Label,null,"Nick Name"),r.a.createElement(b.a.Control,{type:"text",placeholder:"Enter your given NickName",onChange:this.onInputChange.bind(this)})),r.a.createElement(E.a,{variant:"primary",type:"submit"},"Submit"))),r.a.createElement(v.a.Footer,null,"Don't have a login ? Contact Parthiv")))}}]),t}(r.a.Component),p=a(284),k=a(283),O=a(15),j=a.n(O),A="http://contest-ipl-contest-ipl.7e14.starter-us-west-2.openshiftapps.com/api",I=5e3,P=1e4,S=15e3,C=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"logOut",value:function(){localStorage.clear(),window.location.reload()}},{key:"startAuctionHandler",value:function(){this.startAuctionRequest().then(function(e){},function(e){return[]})}},{key:"startAuctionRequest",value:function(){return j.a.get(A+"/resetAuction",y())}},{key:"render",value:function(){var e=localStorage.getItem("user")||"User";return r.a.createElement(p.a,{bg:"dark",variant:"dark"},r.a.createElement(p.a.Brand,{href:"#home"},"Hi ".concat(e)),r.a.createElement(k.a,{className:"mr-auto"}),"Parthiv"==e&&r.a.createElement(E.a,{variant:"outline-info",onClick:this.startAuctionHandler.bind(this)},"Start Auction"),r.a.createElement(E.a,{variant:"outline-info",onClick:this.logOut.bind(this)},"Log Out"))}}]),t}(n.Component),w=a(280),B=a(130),N=a(281),T=a(27),q=a.n(T),D=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(s.a)(t).call(this,e))).state={currentAuctionInfo:null,bidAmt:null},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.getLiveAuctionInfo(),this.interval=setInterval(function(){e.getLiveAuctionInfo()},I)}},{key:"componentWillUnmount",value:function(){window.clearInterval(this.interval)}},{key:"getLiveAuctionInfo",value:function(){var e=this;j.a.get(A+"/liveAuctionInfo",y()).then(function(t){if(!q.a.isEqual(t.data,e.state.currentAuctionInfo)){var a=t.data.bids&&t.data.bids[0]&&t.data.bids[0].bidAmt+5;e.setState({currentAuctionInfo:t.data,bidAmt:a})}},function(e){console.error(e)})}},{key:"startAuction",value:function(e){e.preventDefault()}},{key:"roundOff",value:function(e){var t=5*Math.ceil(parseInt(e.target.value)/5);this.setState({bidAmt:t})}},{key:"handleBidInputChange",value:function(e){this.setState({bidAmt:e.target.value})}},{key:"bid",value:function(){var e=this;if(this.state.bidAmt&&this.state.bidAmt>0){var t=localStorage.getItem("user")||"User",a=this.state.currentAuctionInfo.playerId;this.doBidRequest(a,this.state.bidAmt,t).then(function(t){e.getLiveAuctionInfo()})}}},{key:"doBidRequest",value:function(e,t,a){return j.a.post(A+"/addBid",{playerId:e,bidAmt:t,bidBy:a},y())}},{key:"markPlayerSoldHandler",value:function(){var e=this;this.markPlayerSoldRequest(this.state.currentAuctionInfo.playerId).then(function(t){e.getLiveAuctionInfo()})}},{key:"markPlayerSoldRequest",value:function(e){return j.a.post(A+"/markAsSold",{playerId:e},y())}},{key:"bringNextPlayerHandler",value:function(){var e=this;this.bringNextPlayerRequest().then(function(t){e.getLiveAuctionInfo()},function(e){console.err(e)})}},{key:"bringNextPlayerRequest",value:function(){return j.a.get(A+"/bringNextPlayer",y())}},{key:"render",value:function(){var e=localStorage.getItem("user")||"User",t=this.state.currentAuctionInfo;return t?r.a.createElement(v.a,null,r.a.createElement(v.a.Header,null,"Current/ Last Player"),r.a.createElement(v.a.Body,null,r.a.createElement(w.a,{style:{margin:"0px"}},r.a.createElement(B.a,{sm:12},"PlayerId : ".concat(t.playerId)),r.a.createElement(B.a,{sm:12},"Player Name : ".concat(t.name)),r.a.createElement(B.a,{sm:12},"Team : ".concat(t.team)),r.a.createElement(B.a,{sm:12},"Grade : ".concat(t.grade)),!t.soldTo&&r.a.createElement(B.a,{sm:12},r.a.createElement("input",{style:{margin:"15px"},type:"number",step:"5",value:this.state.bidAmt,placeholder:"Bid Amount",onBlur:this.roundOff.bind(this),onChange:this.handleBidInputChange.bind(this)}),"readOnly"!=e&&r.a.createElement(E.a,{size:"sm",onClick:this.bid.bind(this)},"Bid")," \xa0",("Parthiv"===e||"Nikhil"===e)&&r.a.createElement("span",null,r.a.createElement(E.a,{size:"sm",variant:"danger",onClick:this.markPlayerSoldHandler.bind(this)},"Mark as Sold"))),t.soldTo&&r.a.createElement("span",null,r.a.createElement(B.a,{sm:12},"Sold to : ".concat(t.soldTo)),r.a.createElement(B.a,{sm:12},"Sold for : ".concat(t.soldAt," points"))),r.a.createElement(B.a,{sm:12},r.a.createElement(E.a,{size:"sm",variant:"info",onClick:this.bringNextPlayerHandler.bind(this)},"Next Player")),r.a.createElement(B.a,{sm:12},R(t.bids))))):null}}]),t}(n.Component),R=function(e){return e&&e.length>0?r.a.createElement("div",null,r.a.createElement("h4",null,"Previous Bids:"),r.a.createElement(N.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Bid By"),r.a.createElement("th",null,"Bid Amt"))),r.a.createElement("tbody",null,e.map(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.bidBy),r.a.createElement("td",null,e.bidAmt))})))):r.a.createElement("div",null,"You Can Start Bidding")},L=D,H=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(s.a)(t).call(this,e))).state={points:null,count:null},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.remainingPointsRequest(),this.remainingPlayerRequest(),this.interval=setInterval(function(){e.remainingPointsRequest(),e.remainingPlayerRequest()},P)}},{key:"componentWillUnmount",value:function(){window.clearInterval(this.interval)}},{key:"remainingPointsRequest",value:function(){var e=this;j.a.get(A+"/remaningPoints",y()).then(function(t){q.a.isEqual(t.data,e.state.points)||e.setState({points:t.data})},function(e){console.error(e)})}},{key:"remainingPlayerRequest",value:function(){var e=this;j.a.get(A+"/getRemainingPlayersCount",y()).then(function(t){q.a.isEqual(t.data,e.state.points)||e.setState({count:t.data})},function(e){console.error(e)})}},{key:"render",value:function(){var e=this.state.points,t=this.state.count;localStorage.getItem("user");return e&&t?r.a.createElement("div",null,r.a.createElement(v.a,null,r.a.createElement(v.a.Header,{as:"h5"},"Points Remaining"),r.a.createElement(v.a.Body,null,r.a.createElement(N.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Team Owner"),r.a.createElement("th",null,"Points"))),r.a.createElement("tbody",null,Object.keys(e).map(function(t,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",null,t),r.a.createElement("td",null,e[t]))}))))),r.a.createElement("br",null),r.a.createElement(v.a,null,r.a.createElement(v.a.Header,{as:"h5"},"Players Remaining"),r.a.createElement(v.a.Body,null,r.a.createElement(N.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Grade"),r.a.createElement("th",null,"Number of Players"))),r.a.createElement("tbody",null,Object.keys(t).map(function(e,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",null,e),r.a.createElement("td",null,t[e]))})))))):null}}]),t}(r.a.Component),x=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(s.a)(t).call(this,e))).state={team:null},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.getYourTeam(),this.interval=setInterval(function(){e.getYourTeam()},S)}},{key:"componentWillUnmount",value:function(){window.clearInterval(this.interval)}},{key:"getYourTeam",value:function(){var e=this;j.a.get(A+"/myTeam",y()).then(function(t){q.a.isEqual(t.data,e.state.team)||e.setState({team:t.data})},function(e){console.error(e)})}},{key:"render",value:function(){var e=this.state.team;return e?r.a.createElement(v.a,null,r.a.createElement(v.a.Header,{as:"h5"},"My Team"),r.a.createElement(v.a.Body,null,r.a.createElement(N.a,{triped:"true",bordered:"true",hover:"true",size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Player Name"),r.a.createElement("th",null,"Points"),r.a.createElement("th",null,"Team"))),r.a.createElement("tbody",null,e.map(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.soldAt),r.a.createElement("td",null,e.team))}))))):null}}]),t}(r.a.Component),G=a(72),M=a(135),U=a(134),z=a(133),W=a.n(z),Y=(a(276),a(71)),F=a.n(Y),J=(a(277),function(e,t,a){return function(n){return"NONE"===a?e:Object(U.a)(n).sort(function(e,n){return"ASC"===a?e[t]>n[t]?1:-1:"DESC"===a?e[t]<n[t]?1:-1:void 0})}}),$=function(e){return function(t){var a=Object(M.a)({},t);return e.filterTerm?a[e.column.key]=e:delete a[e.column.key],a}},K=[{key:"playerId",name:"Player ID",sortable:!0,filterable:!0},{key:"name",name:"Player Name",sortable:!0,filterable:!0},{key:"grade",name:"Grade",sortable:!0,filterable:!0},{key:"team",name:"IPL Team",sortable:!0,filterable:!0},{key:"soldTo",name:"Sold To",sortable:!0,filterable:!0},{key:"soldAt",name:"Price",sortable:!0}];function Q(e){var t=e.players,a=Object(n.useState)(t),l=Object(G.a)(a,2),i=l[0],o=l[1],c=Object(n.useState)({}),u=Object(G.a)(c,2),s=(u[0],u[1]),m=function(e,t){return e}(i);return r.a.createElement(W.a,{columns:K,rowGetter:function(e){return m[e]},rowsCount:m.length,minHeight:500,onGridSort:function(e,a){return o(J(t,e,a))},onAddFilter:function(e){return s($(e))},onClearFilters:function(){return s({})}})}var V=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(s.a)(t).call(this,e))).refreshDataHandler=function(){a.getAllPlayerData()},a.state={players:[]},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getAllPlayerData()}},{key:"getAllPlayerData",value:function(){var e=this;j.a.get(A+"/allPlayers",y()).then(function(t){e.setState({players:t.data})},function(e){console.error(e)})}},{key:"download",value:function(){try{var e=new F.a;e.autoTable({head:[["ID","Player Name","Team","Sold At","Sold To","Grade","Nationality"]],body:this.state.players.map(function(e){return[e.playerId,e.name,e.team,e.soldAt,e.soldTo,e.grade,e.nationality]})}),e.save("summary.pdf")}catch(t){}}},{key:"render",value:function(){var e=this.state.players;return e&&e.length>0?r.a.createElement("div",null,r.a.createElement("h2",{style:{display:"inline-block"}},"All PLayers Data"),"\xa0",r.a.createElement(E.a,{variant:"info",style:{float:"right"},onClick:this.download.bind(this)},"Download Summary"),r.a.createElement("span",{style:{float:"right"}},"\xa0"),r.a.createElement(E.a,{variant:"info",style:{float:"right"},onClick:this.refreshDataHandler.bind(this)},"Refresh Data"),r.a.createElement(Q,{players:e})):null}}]),t}(r.a.Component),X=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(C,null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(w.a,{style:{margin:"0px"}},r.a.createElement(B.a,{sm:12,lg:6},r.a.createElement(L,null)),r.a.createElement(B.a,{sm:12,lg:3},r.a.createElement(H,null)),r.a.createElement(B.a,{sm:12,lg:3},r.a.createElement(x,null)),r.a.createElement(B.a,{sm:12},r.a.createElement("br",null)),r.a.createElement(B.a,{sm:12},r.a.createElement(V,null))))}}]),t}(n.Component),Z=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"login",value:function(e){var t=this;j.a.post(A+"/login",{nickName:e}).then(function(e){!function(e){try{var t=h.a.decode(e);t&&(localStorage.setItem("token",e),localStorage.setItem("user",t.user))}catch(a){console.error(a)}}(e.data.token),t.forceUpdate()},function(e){console.log(e)})}},{key:"render",value:function(){var e=!!f();return r.a.createElement("div",null,e?r.a.createElement(X,null):r.a.createElement(g,{onLogin:this.login.bind(this)}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(Z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[136,1,2]]]);
//# sourceMappingURL=main.7b741247.chunk.js.map