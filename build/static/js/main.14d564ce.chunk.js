(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{141:function(e,t,a){e.exports=a(290)},149:function(e,t){},151:function(e,t){},188:function(e,t){},189:function(e,t){},287:function(e,t,a){},290:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(53),o=a.n(l),i=a(10),s=a(11),c=a(14),u=a(12),m=a(13),d=a(134),h=a.n(d);function f(){return localStorage.getItem("token")}function y(){return{headers:{Authorization:f()}}}var v=a(297),g=a(294),p=a(291),b=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={name:""},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"onLoginClick",value:function(e){this.props.onLogin(this.state.name),e.preventDefault()}},{key:"onInputChange",value:function(e){this.setState({name:e.target.value})}},{key:"render",value:function(){return r.a.createElement("div",{style:{height:"-webkit-fill-available"}},r.a.createElement(v.a,{style:{margin:"auto",width:"400px",top:"25%",bottom:"0"}},r.a.createElement(v.a.Header,null,"Login"),r.a.createElement(v.a.Body,null,r.a.createElement(g.a,{onSubmit:this.onLoginClick.bind(this)},r.a.createElement(g.a.Group,{controlId:"formNickName"},r.a.createElement(g.a.Label,null,"Nick Name"),r.a.createElement(g.a.Control,{type:"text",placeholder:"Enter your given NickName",onChange:this.onInputChange.bind(this)})),r.a.createElement(p.a,{variant:"primary",type:"submit"},"Submit"))),r.a.createElement(v.a.Footer,null,"Don't have a login ? Contact Parthiv")))}}]),t}(r.a.Component),E=a(296),k=a(295),O=a(15),j=a.n(O),P="http://contest-ipl-contest-ipl.7e14.starter-us-west-2.openshiftapps.com/api",I=5e3,A=6e4,C=6e4,S=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"logOut",value:function(){localStorage.clear(),window.location.reload()}},{key:"startAuctionHandler",value:function(){this.startAuctionRequest().then(function(e){},function(e){return[]})}},{key:"startAuctionRequest",value:function(){return j.a.get(P+"/resetAuction",y())}},{key:"render",value:function(){var e=localStorage.getItem("user")||"User";return r.a.createElement(E.a,{bg:"dark",variant:"dark"},r.a.createElement(E.a.Brand,{href:"#home"},"Hi ".concat(e)),r.a.createElement(k.a,{className:"mr-auto"}),"Parthiv"==e&&r.a.createElement(p.a,{variant:"outline-info",onClick:this.startAuctionHandler.bind(this)},"Start Auction"),"\xa0",r.a.createElement(p.a,{variant:"outline-info",onClick:this.logOut.bind(this)},"Log Out"))}}]),t}(n.Component),w=a(292),R=a(136),N=a(293),T=a(24),x=a.n(T),B=a(16),H=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={currentAuctionInfo:null,bidAmt:5},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.getLiveAuctionInfo(),this.interval=setInterval(function(){e.getLiveAuctionInfo()},I)}},{key:"componentWillUnmount",value:function(){window.clearInterval(this.interval)}},{key:"getLiveAuctionInfo",value:function(){var e=this;j.a.get(P+"/liveAuctionInfo",y()).then(function(t){if(!x.a.isEqual(t.data,e.state.currentAuctionInfo)){var a=t.data.bids&&t.data.bids[0]&&t.data.bids[0].bidAmt+5||5;e.setState({currentAuctionInfo:t.data,bidAmt:a})}},function(e){e&&e.response&&e.response.data&&e.response.data.message&&B.toast.error(e.response.data.message),console.error(e)})}},{key:"startAuction",value:function(e){e.preventDefault()}},{key:"roundOff",value:function(e){var t=5*Math.ceil(parseInt(e.target.value)/5);this.setState({bidAmt:t})}},{key:"handleBidInputChange",value:function(e){this.setState({bidAmt:e.target.value})}},{key:"bid",value:function(){var e=this;if(this.state.bidAmt&&this.state.bidAmt>0){var t=localStorage.getItem("user")||"User",a=this.state.currentAuctionInfo.playerId;this.doBidRequest(a,this.state.bidAmt,t).then(function(t){e.getLiveAuctionInfo()},function(e){e&&e.response&&e.response.data&&e.response.data.message&&B.toast.error(e.response.data.message),console.error(e)})}}},{key:"doBidRequest",value:function(e,t,a){return j.a.post(P+"/addBid",{playerId:e,bidAmt:t,bidBy:a},y())}},{key:"markPlayerSoldHandler",value:function(){var e=this;this.markPlayerSoldRequest(this.state.currentAuctionInfo.playerId).then(function(t){t.data&&t.data.message&&B.toast.success(t.data.message),e.getLiveAuctionInfo()},function(e){e&&e.response&&e.response.data&&e.response.data.message&&B.toast.error(e.response.data.message),console.error(e)})}},{key:"markPlayerSoldRequest",value:function(e){return j.a.post(P+"/markAsSold",{playerId:e},y())}},{key:"bringNextPlayerHandler",value:function(){var e=this;this.bringNextPlayerRequest().then(function(t){e.getLiveAuctionInfo()},function(e){e&&e.response&&e.response.data&&e.response.data.message&&B.toast.error(e.response.data.message),console.err(e)})}},{key:"bringNextPlayerRequest",value:function(){return j.a.get(P+"/bringNextPlayer",y())}},{key:"onRefreshHandler",value:function(){this.getLiveAuctionInfo()}},{key:"render",value:function(){var e=localStorage.getItem("user")||"User",t=this.state.currentAuctionInfo,a=!!(t&&t.bids&&t.bids.length&&t.bids.length>0)?"Mark as Sold":"Mark as Unsold";return t?r.a.createElement(v.a,null,r.a.createElement(v.a.Header,null,"Current/ Last Player",r.a.createElement(p.a,{variant:"dark",size:"sm",style:{float:"right"},onClick:this.onRefreshHandler.bind(this)},"Refresh")),r.a.createElement(v.a.Body,null,r.a.createElement(w.a,{style:{margin:"0px"}},r.a.createElement(R.a,{sm:12},"PlayerId : ".concat(t.playerId)),r.a.createElement(R.a,{sm:12},"Player Name : ".concat(t.name)),r.a.createElement(R.a,{sm:12},"Team : ".concat(t.team)),r.a.createElement(R.a,{sm:12},"Grade : ".concat(t.grade)),r.a.createElement(R.a,{sm:12},"Nationality : ".concat(t.nationality)),t.soldTo&&r.a.createElement("span",null,r.a.createElement(R.a,{sm:12},"Sold to : ".concat(t.soldTo)),r.a.createElement(R.a,{sm:12},"Sold for : ".concat(t.soldAt," points"))),!t.soldTo&&r.a.createElement(R.a,{sm:12},r.a.createElement("input",{style:{margin:"15px",marginLeft:"0px"},type:"number",step:"5",value:this.state.bidAmt,placeholder:"Bid Amount",onBlur:this.roundOff.bind(this),onChange:this.handleBidInputChange.bind(this)}),"readOnly"!=e&&r.a.createElement(p.a,{size:"sm",onClick:this.bid.bind(this)},"Bid")),!t.soldTo&&("Parthiv"===e||"Nikhil"===e)&&r.a.createElement(R.a,{sm:12},r.a.createElement(p.a,{size:"sm",variant:"danger",onClick:this.markPlayerSoldHandler.bind(this)},a)),t.soldTo&&r.a.createElement(R.a,{sm:12},r.a.createElement(p.a,{size:"sm",variant:"info",onClick:this.bringNextPlayerHandler.bind(this)},"Get Next Player")),r.a.createElement(R.a,{sm:12},q(t.bids))))):null}}]),t}(n.Component),q=function(e){return e&&e.length>0?r.a.createElement("div",null,r.a.createElement("h4",null,"Previous Bids:"),r.a.createElement(N.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Bid By"),r.a.createElement("th",null,"Bid Amt"))),r.a.createElement("tbody",null,e.map(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.bidBy),r.a.createElement("td",null,e.bidAmt))})))):r.a.createElement("div",null,"You Can Start Bidding")},D=H,L=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={points:null},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.remainingPointsRequest(),this.interval=setInterval(function(){e.remainingPointsRequest()},A)}},{key:"componentWillUnmount",value:function(){window.clearInterval(this.interval)}},{key:"remainingPointsRequest",value:function(){var e=this;j.a.get(P+"/remaningPoints",y()).then(function(t){x.a.isEqual(t.data,e.state.points)||e.setState({points:t.data})},function(e){e&&e.response&&e.response.data&&e.response.data.message&&B.toast.error(e.response.data.message),console.error(e)})}},{key:"onRefreshHandler",value:function(){this.remainingPointsRequest()}},{key:"render",value:function(){var e=this.state.points;localStorage.getItem("user");return e?r.a.createElement(v.a,null,r.a.createElement(v.a.Header,{as:"h5"},"Points Remaining",r.a.createElement(p.a,{variant:"dark",size:"sm",style:{float:"right"},onClick:this.onRefreshHandler.bind(this)},"Refresh")),r.a.createElement(v.a.Body,null,r.a.createElement(N.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Team Owner"),r.a.createElement("th",null,"Points"))),r.a.createElement("tbody",null,Object.keys(e).map(function(t,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",null,t),r.a.createElement("td",null,e[t]))}))))):null}}]),t}(r.a.Component),z=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={team:null},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.getYourTeam(),this.interval=setInterval(function(){e.getYourTeam()},C)}},{key:"componentWillUnmount",value:function(){window.clearInterval(this.interval)}},{key:"getYourTeam",value:function(){var e=this;j.a.get(P+"/myTeam",y()).then(function(t){x.a.isEqual(t.data,e.state.team)||e.setState({team:t.data})},function(e){e&&e.response&&e.response.data&&e.response.data.message&&B.toast.error(e.response.data.message),console.error(e)})}},{key:"onRefreshHandler",value:function(){this.getYourTeam()}},{key:"render",value:function(){var e=this.state.team;return e?r.a.createElement(v.a,null,r.a.createElement(v.a.Header,{as:"h5"},"My Team",r.a.createElement(p.a,{variant:"dark",size:"sm",style:{float:"right"},onClick:this.onRefreshHandler.bind(this)},"Refresh")),r.a.createElement(v.a.Body,null,r.a.createElement("div",{className:"legend"},r.a.createElement("ul",{style:{listStyle:"none"}},r.a.createElement("li",{style:{float:"left",marginRight:"10px"}},r.a.createElement("span",{style:{border:"1px solid #ccc",float:"left",width:"24px",height:"24px",margin:"2px",backgroundColor:"cornflowerblue"}}),r.a.createElement("span",null,"Indian")),r.a.createElement("li",{style:{float:"right",marginRight:"10px"}},r.a.createElement("span",{style:{border:"1px solid #ccc",float:"left",width:"24px",height:"24px",margin:"2px",backgroundColor:"palevioletred"}}),r.a.createElement("span",null,"Overseas")))),r.a.createElement(N.a,{bordered:"true",hover:"true",size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Sr."),r.a.createElement("th",null,"Player Name"),r.a.createElement("th",null,"Points"),r.a.createElement("th",null,"Team"))),r.a.createElement("tbody",null,e.map(function(e,t){return r.a.createElement("tr",{key:t,style:{backgroundColor:"Indian"==e.nationality?"cornflowerblue":"palevioletred"}},r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.soldAt),r.a.createElement("td",null,e.team))}))))):null}}]),t}(r.a.Component),F=a(140),M=a(139),U=a.n(M),G=(a(287),a(75)),W=a.n(G),Y=(a(288),function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(p.a,{onClick:function(){return e.props.onToggleFilter(e.abc)},style:{float:"right"}},"Filter"))}}]),t}(r.a.Component)),J=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).refreshDataHandler=function(){a.getAllPlayerData()},a.sortRows=function(e,t,a){return"NONE"===a?e:e.sort(function(e,n){return"ASC"===a?e[t]>n[t]?1:-1:"DESC"===a?e[t]<n[t]?1:-1:void 0})},a.handleFilterChange=function(e){return function(t){var a=Object(F.a)({},t);return e.filterTerm?a[e.column.key]=e:delete a[e.column.key],a}},a.state={players:[],dPlayers:[],sortedPlayers:[],filteredPlayers:[],filters:{}},a.columns=[{key:"playerId",name:"Player ID",sortable:!0,filterable:!0},{key:"name",name:"Player Name",sortable:!0,filterable:!0},{key:"grade",name:"Grade",sortable:!0,filterable:!0},{key:"team",name:"IPL Team",sortable:!0,filterable:!0},{key:"soldTo",name:"Sold To",sortable:!0,filterable:!0},{key:"nationality",name:"Nationality",sortable:!0,filterable:!0},{key:"soldAt",name:"Price",sortable:!0}],a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getAllPlayerData()}},{key:"getAllPlayerData",value:function(){var e=this;j.a.get(P+"/allPlayers",y()).then(function(t){e.setState({players:t.data,dPlayers:t.data})},function(e){e&&e.response&&e.response.data&&e.response.data.message&&B.toast.error(e.response.data.message),console.error(e)})}},{key:"download",value:function(){try{var e=new W.a;e.autoTable({head:[["ID","Player Name","Team","Sold At","Sold To","Grade","Nationality"]],body:this.state.filteredPlayers.map(function(e){return[e.playerId,e.name,e.team,e.soldAt,e.soldTo,e.grade,e.nationality]})}),e.save("summary.pdf")}catch(t){}}},{key:"setdPlayers",value:function(e){this.setState({dPlayers:e})}},{key:"getRows",value:function(e,t){var a=e;return Object.keys(t).map(function(e){var n=t[e].filterTerm;a=a.filter(function(t){return t[e]&&t[e].toString().indexOf(n)>-1})}),a}},{key:"setFilters",value:function(e){this.setState({filters:e})}},{key:"render",value:function(){var e=this,t=this.state.players,a=this.state.dPlayers,n=this.state.filters,l=this.getRows(a,n);return t&&t.length>0?r.a.createElement("div",null,r.a.createElement("h2",{style:{display:"inline-block"}},"All PLayers Data"),"\xa0",r.a.createElement(p.a,{variant:"info",style:{float:"right"},onClick:this.download.bind(this)},"Download Summary"),r.a.createElement("span",{style:{float:"right"}},"\xa0"),r.a.createElement(p.a,{variant:"info",style:{float:"right"},onClick:this.refreshDataHandler.bind(this)},"Refresh Data"),r.a.createElement(U.a,{columns:this.columns,rowGetter:function(e){return l[e]},rowsCount:l.length,minHeight:500,toolbar:r.a.createElement(Y,null),onGridSort:function(a,n){return e.setdPlayers(e.sortRows(t,a,n))},onAddFilter:function(t){return e.setFilters(e.handleFilterChange(t))},onClearFilters:function(){return e.setFilters({})}})):null}}]),t}(r.a.Component),$=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={count:null},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.remainingPlayerRequest(),this.interval=setInterval(function(){e.remainingPlayerRequest()},A)}},{key:"componentWillUnmount",value:function(){window.clearInterval(this.interval)}},{key:"remainingPlayerRequest",value:function(){var e=this;j.a.get(P+"/getRemainingPlayersCount",y()).then(function(t){x.a.isEqual(t.data,e.state.points)||e.setState({count:t.data})},function(e){console.error(e)})}},{key:"onRefreshHandler",value:function(){this.remainingPlayerRequest()}},{key:"render",value:function(){var e=this.state.count;localStorage.getItem("user");return e?r.a.createElement(v.a,null,r.a.createElement(v.a.Header,{as:"h5"},"Players Remaining",r.a.createElement(p.a,{variant:"dark",size:"sm",style:{float:"right"},onClick:this.onRefreshHandler.bind(this)},"Refresh")),r.a.createElement(v.a.Body,null,r.a.createElement(N.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Grade"),r.a.createElement("th",null,"Number of Players"))),r.a.createElement("tbody",null,Object.keys(e).map(function(t,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",null,t.replace("_"," ")),r.a.createElement("td",null,e[t]))}))))):null}}]),t}(r.a.Component),_=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(S,null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(w.a,{style:{margin:"0px"}},r.a.createElement(R.a,{sm:12,lg:3},r.a.createElement(D,null)),r.a.createElement(R.a,{sm:12,lg:3},r.a.createElement($,null)),r.a.createElement(R.a,{sm:12,lg:3},r.a.createElement(L,null)),r.a.createElement(R.a,{sm:12,lg:3},r.a.createElement(z,null)),r.a.createElement(R.a,{sm:12},r.a.createElement("br",null)),r.a.createElement(R.a,{sm:12},r.a.createElement(J,null))))}}]),t}(n.Component),K=(a(289),function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"login",value:function(e){var t=this;j.a.post(P+"/login",{nickName:e}).then(function(e){!function(e){try{var t=h.a.decode(e);t&&(localStorage.setItem("token",e),localStorage.setItem("user",t.user))}catch(a){console.error(a)}}(e.data.token),t.forceUpdate()},function(e){e&&e.response&&e.response.data&&e.response.data.message&&B.toast.error(e.response.data.message),console.log(e.response)})}},{key:"render",value:function(){var e=!!f();return r.a.createElement("div",null,e?r.a.createElement(_,null):r.a.createElement(b,{onLogin:this.login.bind(this)}),r.a.createElement(B.ToastContainer,null))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[141,1,2]]]);
//# sourceMappingURL=main.14d564ce.chunk.js.map